{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}},{"name":"leaflet","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":16,"column":4,"index":504},"end":{"line":16,"column":21,"index":521}}],"key":"VQwq2BxwBDCWDGjVSqO/8b+UlX4=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":4,"index":504},"end":{"line":16,"column":26,"index":526}},{"start":{"line":17,"column":6,"index":542},"end":{"line":17,"column":41,"index":577}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":2}},{"name":"leaflet/dist/leaflet.css","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":17,"column":6,"index":542},"end":{"line":17,"column":40,"index":576}}],"key":"51ZziNHawui5gDI95Ob/AIXfm34=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/components/WebMapLeaflet.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return WebMapLeaflet;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[2], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  function WebMapLeaflet({\n    currentLocation\n  }) {\n    _s();\n    const mapRef = (0, _react.useRef)(null);\n    const mapContainerRef = (0, _react.useRef)(null);\n    (0, _react.useEffect)(() => {\n      if (typeof window === 'undefined') return;\n\n      // Import Leaflet dynamically (web only)\n      require(_dependencyMap[5], \"expo/internal/async-require-module\")(_dependencyMap[4], _dependencyMap.paths, \"leaflet\").then(L => {\n        require(_dependencyMap[5], \"expo/internal/async-require-module\")(_dependencyMap[6], _dependencyMap.paths, \"leaflet/dist/leaflet.css\");\n\n        // Fix Leaflet marker icon issue\n        delete L.Icon.Default.prototype._getIconUrl;\n        L.Icon.Default.mergeOptions({\n          iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png',\n          iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png',\n          shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png'\n        });\n        const lat = currentLocation?.coords.latitude || 46.5197;\n        const lng = currentLocation?.coords.longitude || 6.6323;\n\n        // Create map if not exists\n        if (!mapRef.current && mapContainerRef.current) {\n          mapRef.current = L.map('map-container').setView([lat, lng], 13);\n\n          // Add tile layer\n          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution: 'Â© OpenStreetMap',\n            maxZoom: 19\n          }).addTo(mapRef.current);\n\n          // Add marker\n          if (currentLocation) {\n            L.marker([lat, lng]).addTo(mapRef.current).bindPopup('Votre position').openPopup();\n          }\n        }\n      });\n      return () => {\n        if (mapRef.current) {\n          mapRef.current.remove();\n          mapRef.current = null;\n        }\n      };\n    }, [currentLocation]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(\"div\", {\n        id: \"map-container\",\n        ref: mapContainerRef,\n        style: {\n          width: '100%',\n          height: '100%',\n          minHeight: '400px',\n          borderRadius: '12px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this);\n  }\n  _s(WebMapLeaflet, \"NNKRGjSdzbHfdkr6Hm2ViZzjWxw=\");\n  _c = WebMapLeaflet;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      width: '100%',\n      height: '100%',\n      minHeight: 400\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"WebMapLeaflet\");\n});","lineCount":106,"map":[[14,2,8,15,"Object"],[14,8,8,15],[14,9,8,15,"defineProperty"],[14,23,8,15],[14,24,8,15,"exports"],[14,31,8,15],[15,4,8,15,"enumerable"],[15,14,8,15],[16,4,8,15,"get"],[16,7,8,15],[16,18,8,15,"get"],[16,19,8,15],[17,6,8,15],[17,13,8,15,"WebMapLeaflet"],[17,26,8,15],[18,4,8,15],[19,2,8,15],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,49],[21,6,1,49,"_reactNativeWebDistExportsView"],[21,36,1,49],[21,39,1,49,"require"],[21,46,1,49],[21,47,1,49,"_dependencyMap"],[21,61,1,49],[22,2,1,49],[22,6,1,49,"View"],[22,10,1,49],[22,13,1,49,"_interopDefault"],[22,28,1,49],[22,29,1,49,"_reactNativeWebDistExportsView"],[22,59,1,49],[23,2,1,49],[23,6,1,49,"_reactNativeWebDistExportsStyleSheet"],[23,42,1,49],[23,45,1,49,"require"],[23,52,1,49],[23,53,1,49,"_dependencyMap"],[23,67,1,49],[24,2,1,49],[24,6,1,49,"StyleSheet"],[24,16,1,49],[24,19,1,49,"_interopDefault"],[24,34,1,49],[24,35,1,49,"_reactNativeWebDistExportsStyleSheet"],[24,71,1,49],[25,2,1,49],[25,6,1,49,"_reactJsxDevRuntime"],[25,25,1,49],[25,28,1,49,"require"],[25,35,1,49],[25,36,1,49,"_dependencyMap"],[25,50,1,49],[26,2,8,15],[26,11,8,24,"WebMapLeaflet"],[26,24,8,37,"WebMapLeaflet"],[26,25,8,38],[27,4,8,40,"currentLocation"],[28,2,8,76],[28,3,8,77],[28,5,8,79],[29,4,8,79,"_s"],[29,6,8,79],[30,4,9,2],[30,10,9,8,"mapRef"],[30,16,9,14],[30,19,9,17],[30,23,9,17,"useRef"],[30,29,9,23],[30,30,9,23,"useRef"],[30,36,9,23],[30,38,9,29],[30,42,9,33],[30,43,9,34],[31,4,10,2],[31,10,10,8,"mapContainerRef"],[31,25,10,23],[31,28,10,26],[31,32,10,26,"useRef"],[31,38,10,32],[31,39,10,32,"useRef"],[31,45,10,32],[31,47,10,49],[31,51,10,53],[31,52,10,54],[32,4,12,2],[32,8,12,2,"useEffect"],[32,14,12,11],[32,15,12,11,"useEffect"],[32,24,12,11],[32,26,12,12],[32,32,12,18],[33,6,13,4],[33,10,13,8],[33,17,13,15,"window"],[33,23,13,21],[33,28,13,26],[33,39,13,37],[33,41,13,39],[35,6,15,4],[36,6,16,4,"require"],[36,13,16,4],[36,14,16,4,"_dependencyMap"],[36,28,16,4],[36,71,16,4,"_dependencyMap"],[36,85,16,4],[36,90,16,4,"_dependencyMap"],[36,104,16,4],[36,105,16,4,"paths"],[36,110,16,4],[36,123,16,22,"then"],[36,127,16,26],[36,128,16,28,"L"],[36,129,16,29],[36,133,16,34],[37,8,17,6,"require"],[37,15,17,6],[37,16,17,6,"_dependencyMap"],[37,30,17,6],[37,73,17,6,"_dependencyMap"],[37,87,17,6],[37,92,17,6,"_dependencyMap"],[37,106,17,6],[37,107,17,6,"paths"],[37,112,17,6],[39,8,19,6],[40,8,20,6],[40,15,20,14,"L"],[40,16,20,15],[40,17,20,16,"Icon"],[40,21,20,20],[40,22,20,21,"Default"],[40,29,20,28],[40,30,20,29,"prototype"],[40,39,20,38],[40,40,20,47,"_getIconUrl"],[40,51,20,58],[41,8,21,6,"L"],[41,9,21,7],[41,10,21,8,"Icon"],[41,14,21,12],[41,15,21,13,"Default"],[41,22,21,20],[41,23,21,21,"mergeOptions"],[41,35,21,33],[41,36,21,34],[42,10,22,8,"iconRetinaUrl"],[42,23,22,21],[42,25,22,23],[42,105,22,103],[43,10,23,8,"iconUrl"],[43,17,23,15],[43,19,23,17],[43,96,23,94],[44,10,24,8,"shadowUrl"],[44,19,24,17],[44,21,24,19],[45,8,25,6],[45,9,25,7],[45,10,25,8],[46,8,27,6],[46,14,27,12,"lat"],[46,17,27,15],[46,20,27,18,"currentLocation"],[46,35,27,33],[46,37,27,35,"coords"],[46,43,27,41],[46,44,27,42,"latitude"],[46,52,27,50],[46,56,27,54],[46,63,27,61],[47,8,28,6],[47,14,28,12,"lng"],[47,17,28,15],[47,20,28,18,"currentLocation"],[47,35,28,33],[47,37,28,35,"coords"],[47,43,28,41],[47,44,28,42,"longitude"],[47,53,28,51],[47,57,28,55],[47,63,28,61],[49,8,30,6],[50,8,31,6],[50,12,31,10],[50,13,31,11,"mapRef"],[50,19,31,17],[50,20,31,18,"current"],[50,27,31,25],[50,31,31,29,"mapContainerRef"],[50,46,31,44],[50,47,31,45,"current"],[50,54,31,52],[50,56,31,54],[51,10,32,8,"mapRef"],[51,16,32,14],[51,17,32,15,"current"],[51,24,32,22],[51,27,32,25,"L"],[51,28,32,26],[51,29,32,27,"map"],[51,32,32,30],[51,33,32,31],[51,48,32,46],[51,49,32,47],[51,50,32,48,"setView"],[51,57,32,55],[51,58,32,56],[51,59,32,57,"lat"],[51,62,32,60],[51,64,32,62,"lng"],[51,67,32,65],[51,68,32,66],[51,70,32,68],[51,72,32,70],[51,73,32,71],[53,10,34,8],[54,10,35,8,"L"],[54,11,35,9],[54,12,35,10,"tileLayer"],[54,21,35,19],[54,22,35,20],[54,74,35,72],[54,76,35,74],[55,12,36,10,"attribution"],[55,23,36,21],[55,25,36,23],[55,42,36,40],[56,12,37,10,"maxZoom"],[56,19,37,17],[56,21,37,19],[57,10,38,8],[57,11,38,9],[57,12,38,10],[57,13,38,11,"addTo"],[57,18,38,16],[57,19,38,17,"mapRef"],[57,25,38,23],[57,26,38,24,"current"],[57,33,38,31],[57,34,38,32],[59,10,40,8],[60,10,41,8],[60,14,41,12,"currentLocation"],[60,29,41,27],[60,31,41,29],[61,12,42,10,"L"],[61,13,42,11],[61,14,42,12,"marker"],[61,20,42,18],[61,21,42,19],[61,22,42,20,"lat"],[61,25,42,23],[61,27,42,25,"lng"],[61,30,42,28],[61,31,42,29],[61,32,42,30],[61,33,43,13,"addTo"],[61,38,43,18],[61,39,43,19,"mapRef"],[61,45,43,25],[61,46,43,26,"current"],[61,53,43,33],[61,54,43,34],[61,55,44,13,"bindPopup"],[61,64,44,22],[61,65,44,23],[61,81,44,39],[61,82,44,40],[61,83,45,13,"openPopup"],[61,92,45,22],[61,93,45,23],[61,94,45,24],[62,10,46,8],[63,8,47,6],[64,6,48,4],[64,7,48,5],[64,8,48,6],[65,6,50,4],[65,13,50,11],[65,19,50,17],[66,8,51,6],[66,12,51,10,"mapRef"],[66,18,51,16],[66,19,51,17,"current"],[66,26,51,24],[66,28,51,26],[67,10,52,8,"mapRef"],[67,16,52,14],[67,17,52,15,"current"],[67,24,52,22],[67,25,52,23,"remove"],[67,31,52,29],[67,32,52,30],[67,33,52,31],[68,10,53,8,"mapRef"],[68,16,53,14],[68,17,53,15,"current"],[68,24,53,22],[68,27,53,25],[68,31,53,29],[69,8,54,6],[70,6,55,4],[70,7,55,5],[71,4,56,2],[71,5,56,3],[71,7,56,5],[71,8,56,6,"currentLocation"],[71,23,56,21],[71,24,56,22],[71,25,56,23],[72,4,58,2],[72,24,59,4],[72,28,59,4,"_reactJsxDevRuntime"],[72,47,59,4],[72,48,59,4,"jsxDEV"],[72,54,59,4],[72,56,59,5,"View"],[72,60,59,9],[72,61,59,9,"default"],[72,68,59,9],[73,6,59,10,"style"],[73,11,59,15],[73,13,59,17,"styles"],[73,19,59,23],[73,20,59,24,"container"],[73,29,59,34],[74,6,59,34,"children"],[74,14,59,34],[74,29,60,6],[74,33,60,6,"_reactJsxDevRuntime"],[74,52,60,6],[74,53,60,6,"jsxDEV"],[74,59,60,6],[75,8,61,8,"id"],[75,10,61,10],[75,12,61,11],[75,27,61,26],[76,8,62,8,"ref"],[76,11,62,11],[76,13,62,13,"mapContainerRef"],[76,28,62,36],[77,8,63,8,"style"],[77,13,63,13],[77,15,63,15],[78,10,64,10,"width"],[78,15,64,15],[78,17,64,17],[78,23,64,23],[79,10,65,10,"height"],[79,16,65,16],[79,18,65,18],[79,24,65,24],[80,10,66,10,"minHeight"],[80,19,66,19],[80,21,66,21],[80,28,66,28],[81,10,67,10,"borderRadius"],[81,22,67,22],[81,24,67,24],[82,8,68,8],[83,6,68,10],[84,8,68,10,"fileName"],[84,16,68,10],[84,18,68,10,"_jsxFileName"],[84,30,68,10],[85,8,68,10,"lineNumber"],[85,18,68,10],[86,8,68,10,"columnNumber"],[86,20,68,10],[87,6,68,10],[87,13,69,7],[88,4,69,8],[89,6,69,8,"fileName"],[89,14,69,8],[89,16,69,8,"_jsxFileName"],[89,28,69,8],[90,6,69,8,"lineNumber"],[90,16,69,8],[91,6,69,8,"columnNumber"],[91,18,69,8],[92,4,69,8],[92,11,70,10],[92,12,70,11],[93,2,72,0],[94,2,72,1,"_s"],[94,4,72,1],[94,5,8,24,"WebMapLeaflet"],[94,18,8,37],[95,2,8,37,"_c"],[95,4,8,37],[95,7,8,24,"WebMapLeaflet"],[95,20,8,37],[96,2,74,0],[96,8,74,6,"styles"],[96,14,74,12],[96,17,74,15,"StyleSheet"],[96,27,74,25],[96,28,74,25,"default"],[96,35,74,25],[96,36,74,26,"create"],[96,42,74,32],[96,43,74,33],[97,4,75,2,"container"],[97,13,75,11],[97,15,75,13],[98,6,76,4,"flex"],[98,10,76,8],[98,12,76,10],[98,13,76,11],[99,6,77,4,"width"],[99,11,77,9],[99,13,77,11],[99,19,77,17],[100,6,78,4,"height"],[100,12,78,10],[100,14,78,12],[100,20,78,18],[101,6,79,4,"minHeight"],[101,15,79,13],[101,17,79,15],[102,4,80,2],[103,2,81,0],[103,3,81,1],[103,4,81,2],[104,2,81,3],[104,6,81,3,"_c"],[104,8,81,3],[105,2,81,3,"$RefreshReg$"],[105,14,81,3],[105,15,81,3,"_c"],[105,17,81,3],[106,0,81,3],[106,3]],"functionMap":{"names":["<global>","WebMapLeaflet","useEffect$argument_0","import.then$argument_0","<anonymous>"],"mappings":"AAA;eCO;YCI;2BCI;KDgC;WEE;KFK;GDC;CDgB"},"hasCjsExports":false},"type":"js/module"}]}